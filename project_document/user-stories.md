# Cloudflare 导航网站 - 用户故事

## 📖 文档说明

本文档包含 Cloudflare 导航网站的所有用户故事，采用标准的用户故事格式和 EARS (Easy Approach to Requirements Syntax) 验收标准。

**格式规范**:
- **用户故事**: 作为 [用户角色]，我希望 [功能]，以便 [业务价值]
- **验收标准**: EARS 格式（WHEN/IF/WHILE/WHERE + THEN + VERIFY）

---

## 史诗 1: 用户认证与账号管理

### US-001: 用户注册
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**新用户**，我希望能够**注册账号**，以便**管理我的导航网站**。

**验收标准** (EARS 格式):
- **WHEN** 用户访问注册页面 **THEN** 系统显示注册表单（包含邮箱、密码、确认密码字段）
- **WHEN** 用户输入有效的邮箱和密码并提交 **THEN** 系统创建新账号并返回成功消息
- **WHEN** 用户输入的密码长度 < 8 位 **THEN** 系统显示错误提示"密码至少需要 8 位字符"
- **WHEN** 用户输入的密码不包含字母和数字组合 **THEN** 系统显示错误提示"密码必须包含字母和数字"
- **WHEN** 用户输入的邮箱格式无效 **THEN** 系统显示错误提示"请输入有效的邮箱地址"
- **WHEN** 用户输入的邮箱已被注册 **THEN** 系统显示错误提示"该邮箱已被注册"
- **WHEN** 用户输入的密码与确认密码不一致 **THEN** 系统显示错误提示"两次输入的密码不一致"
- **VERIFY** 注册成功后，密码以加密形式存储在 D1 数据库（使用 bcrypt，cost factor ≥ 10）
- **VERIFY** 注册成功后，用户自动跳转到登录页面

**技术说明**:
- 使用 Cloudflare Workers API 处理注册请求
- 密码加密使用 bcrypt 或 Argon2
- 邮箱唯一性校验通过数据库索引实现
- 前端验证 + 后端验证双重保护

**依赖项**:
- D1 数据库表结构已创建（`users` 表）
- Workers API 路由已配置

---

### US-002: 用户登录
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**注册用户**，我希望能够**登录系统**，以便**访问后台管理功能**。

**验收标准** (EARS 格式):
- **WHEN** 用户访问登录页面 **THEN** 系统显示登录表单（包含邮箱、密码字段）
- **WHEN** 用户输入正确的邮箱和密码并提交 **THEN** 系统验证成功并返回 JWT Token
- **WHEN** 用户输入错误的邮箱或密码 **THEN** 系统显示错误提示"邮箱或密码错误"
- **WHEN** 用户在 5 分钟内连续登录失败 5 次 **THEN** 系统锁定账号 15 分钟并显示"账号已被锁定，请稍后重试"
- **WHEN** 登录成功 **THEN** 系统将 JWT Token 存储在 HttpOnly Cookie 或 LocalStorage
- **WHEN** 登录成功 **THEN** 系统自动跳转到后台管理仪表盘
- **VERIFY** JWT Token 包含用户 ID、邮箱、过期时间（24 小时）
- **VERIFY** Token 签名使用 HS256 算法，密钥存储在 Workers 环境变量

**技术说明**:
- 使用 JWT 进行无状态认证
- 限流保护使用 Cloudflare Workers KV 存储失败次数
- Token 过期时间设置为 24 小时

**依赖项**:
- JWT 库已集成（如 `@tsndr/cloudflare-worker-jwt`）
- Workers KV 命名空间已创建（用于限流）

---

### US-003: 用户退出登录
**优先级**: P0
**故事点**: 2

**故事描述**:
作为一名**已登录用户**，我希望能够**安全退出登录**，以便**保护我的账号安全**。

**验收标准** (EARS 格式):
- **WHEN** 用户点击"退出登录"按钮 **THEN** 系统清除本地存储的 JWT Token
- **WHEN** 用户退出登录后 **THEN** 系统自动跳转到登录页面
- **WHEN** 用户退出登录后尝试访问受保护页面 **THEN** 系统重定向到登录页面
- **VERIFY** 退出登录后，旧的 Token 仍然有效（直到过期），但前端已清除

**技术说明**:
- 前端清除 LocalStorage 或 Cookie
- 可选：实现 Token 黑名单（使用 Workers KV）

---

### US-004: 登录状态持久化
**优先级**: P0
**故事点**: 3

**故事描述**:
作为一名**已登录用户**，我希望在关闭浏览器后**登录状态仍然保持**，以便**无需频繁登录**。

**验收标准** (EARS 格式):
- **WHEN** 用户登录成功并选择"记住我" **THEN** Token 有效期延长至 30 天
- **WHEN** 用户关闭浏览器并重新打开 **THEN** 系统自动识别有效的 Token 并保持登录状态
- **WHEN** Token 过期 **THEN** 系统自动跳转到登录页面并提示"登录已过期，请重新登录"
- **VERIFY** Token 存储在 HttpOnly Cookie 中（防止 XSS 攻击）

---

## 史诗 2: 链接管理

### US-005: 添加链接
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望能够**添加新链接**，以便**丰富导航网站内容**。

**验收标准** (EARS 格式):
- **WHEN** 管理员点击"添加链接"按钮 **THEN** 系统显示添加链接表单（包含 URL、标题、描述、分类字段）
- **WHEN** 管理员输入 URL 后失去焦点 **THEN** 系统自动触发网站信息抓取（title、favicon、logo）
- **WHEN** 管理员输入的 URL 格式无效 **THEN** 系统显示错误提示"请输入有效的 URL"
- **WHEN** 管理员输入的 URL 已存在 **THEN** 系统显示警告提示"该链接已存在"
- **WHEN** 管理员提交表单 **THEN** 系统保存链接到 D1 数据库并显示成功提示
- **WHEN** 管理员提交表单 **THEN** 系统自动刷新链接列表并显示新添加的链接
- **VERIFY** 链接保存时记录创建时间和更新时间
- **VERIFY** 链接默认排序为最新创建的在前

**技术说明**:
- URL 验证使用正则表达式或 `URL` API
- 自动抓取功能调用独立的 API 接口（详见 US-010）
- 链接去重逻辑基于 URL 字段

**依赖项**:
- D1 数据库 `links` 表已创建
- 网站信息抓取 API 已实现

---

### US-006: 编辑链接
**优先级**: P0
**故事点**: 3

**故事描述**:
作为一名**管理员**，我希望能够**编辑已有链接**，以便**修正错误或更新信息**。

**验收标准** (EARS 格式):
- **WHEN** 管理员点击链接的"编辑"按钮 **THEN** 系统显示编辑表单并预填充当前数据
- **WHEN** 管理员修改任意字段并提交 **THEN** 系统更新数据库并显示成功提示
- **WHEN** 管理员修改 URL 字段 **THEN** 系统重新触发网站信息抓取
- **WHEN** 管理员取消编辑 **THEN** 系统恢复原始数据并关闭表单
- **VERIFY** 编辑操作更新 `updated_at` 字段

**技术说明**:
- 使用乐观锁防止并发编辑冲突（可选）
- 支持批量编辑（v2.0 功能）

---

### US-007: 删除链接
**优先级**: P0
**故事点**: 3

**故事描述**:
作为一名**管理员**，我希望能够**删除不需要的链接**，以便**保持导航网站整洁**。

**验收标准** (EARS 格式):
- **WHEN** 管理员点击链接的"删除"按钮 **THEN** 系统显示确认对话框"确定要删除该链接吗？"
- **WHEN** 管理员确认删除 **THEN** 系统从数据库删除该链接并显示成功提示
- **WHEN** 管理员取消删除 **THEN** 系统关闭对话框并保留该链接
- **WHEN** 管理员删除链接后 **THEN** 系统自动刷新链接列表
- **VERIFY** 删除操作不可恢复（软删除功能可作为 v2.0）

**技术说明**:
- 使用物理删除（直接从数据库删除）
- 可选：实现软删除（设置 `deleted_at` 字段）

---

### US-008: 批量删除链接
**优先级**: P1
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望能够**批量删除多个链接**，以便**快速清理过时内容**。

**验收标准** (EARS 格式):
- **WHEN** 管理员勾选多个链接 **THEN** 系统显示"批量删除"按钮
- **WHEN** 管理员点击"批量删除"按钮 **THEN** 系统显示确认对话框"确定要删除选中的 N 个链接吗？"
- **WHEN** 管理员确认删除 **THEN** 系统删除所有选中的链接并显示成功提示
- **WHEN** 批量删除过程中部分失败 **THEN** 系统显示"成功删除 X 个，失败 Y 个"
- **VERIFY** 批量删除操作在单个事务中执行（保证原子性）

**技术说明**:
- 使用 D1 的批量删除语法：`DELETE FROM links WHERE id IN (...)`
- 限制单次批量删除数量（建议 ≤ 100）

---

### US-009: 链接排序
**优先级**: P1
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望能够**自定义链接排序**，以便**控制链接显示顺序**。

**验收标准** (EARS 格式):
- **WHEN** 管理员拖拽链接卡片 **THEN** 系统实时更新显示顺序
- **WHEN** 管理员释放拖拽 **THEN** 系统保存新的排序到数据库
- **WHEN** 管理员手动输入排序数字 **THEN** 系统按数字排序并保存
- **VERIFY** 排序数据存储在 `links` 表的 `order` 字段
- **VERIFY** 前端显示时按 `order` 字段升序排列

**技术说明**:
- 使用拖拽库（如 `dnd-kit` 或 `react-beautiful-dnd`）
- 排序字段为整数，支持插入排序

---

### US-010: 自动抓取网站信息
**优先级**: P1
**故事点**: 8

**故事描述**:
作为一名**管理员**，我希望在添加链接时**自动抓取网站的 title、favicon、logo**，以便**节省手动输入时间**。

**验收标准** (EARS 格式):
- **WHEN** 管理员输入 URL 后触发抓取 **THEN** 系统显示加载状态（Spinner）
- **WHEN** 抓取成功 **THEN** 系统自动填充 title、favicon、logo 字段
- **WHEN** 抓取超时（> 10 秒）**THEN** 系统显示"抓取超时，请手动输入"
- **WHEN** 目标网站无法访问 **THEN** 系统显示"无法访问该网站，请检查 URL"
- **WHEN** 目标网站无 favicon **THEN** 系统使用默认图标
- **WHEN** 管理员不满意自动抓取的结果 **THEN** 可以手动修改任意字段
- **VERIFY** 抓取逻辑在 Cloudflare Workers 中执行（避免 CORS 问题）
- **VERIFY** 抓取结果缓存 24 小时（减少重复请求）

**技术说明**:
- 使用 `fetch()` 获取目标网站 HTML
- 解析 HTML 获取：
  - `<title>` 标签内容
  - `<link rel="icon">` 或 `<link rel="shortcut icon">`
  - `<meta property="og:image">` 或 `<meta name="twitter:image">`
- 缓存使用 Cloudflare Workers KV

**边缘情况处理**:
- 目标网站使用 JavaScript 渲染（无法抓取）→ 提示手动输入
- 目标网站设置了反爬虫机制 → 提示手动输入
- 目标网站返回非 HTML 内容 → 提示手动输入

**依赖项**:
- HTML 解析库（如 `node-html-parser`）
- Workers KV 命名空间（用于缓存）

---

## 史诗 3: 分类管理

### US-011: 创建分类
**优先级**: P0
**故事点**: 3

**故事描述**:
作为一名**管理员**，我希望能够**创建分类**，以便**组织管理链接**。

**验收标准** (EARS 格式):
- **WHEN** 管理员点击"添加分类"按钮 **THEN** 系统显示分类创建表单（包含名称、图标、颜色字段）
- **WHEN** 管理员输入分类名称并提交 **THEN** 系统创建新分类并显示成功提示
- **WHEN** 管理员输入的分类名称已存在 **THEN** 系统显示错误提示"该分类名称已存在"
- **WHEN** 管理员选择图标和颜色 **THEN** 系统保存这些样式信息
- **VERIFY** 分类创建后自动添加到分类列表
- **VERIFY** 分类数量限制为 20 个（防止过度分类）

**技术说明**:
- 图标选择器支持常见图标库（Heroicons、Lucide）
- 颜色选择器支持预设颜色（6-8 种）

---

### US-012: 编辑分类
**优先级**: P0
**故事点**: 3

**故事描述**:
作为一名**管理员**，我希望能够**编辑分类信息**，以便**调整分类名称或样式**。

**验收标准** (EARS 格式):
- **WHEN** 管理员点击分类的"编辑"按钮 **THEN** 系统显示编辑表单并预填充当前数据
- **WHEN** 管理员修改任意字段并提交 **THEN** 系统更新数据库并显示成功提示
- **WHEN** 管理员修改分类名称为已存在的名称 **THEN** 系统显示错误提示
- **VERIFY** 编辑分类后，所有关联的链接自动更新显示

---

### US-013: 删除分类
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望能够**删除分类**，以便**清理不需要的分类**。

**验收标准** (EARS 格式):
- **WHEN** 管理员点击分类的"删除"按钮 **THEN** 系统显示确认对话框并提供两个选项：
  - "删除分类及所有链接"
  - "仅删除分类，链接移至'未分类'"
- **WHEN** 管理员选择"删除分类及所有链接"**THEN** 系统删除分类和所有关联的链接
- **WHEN** 管理员选择"仅删除分类"**THEN** 系统删除分类，所有关联的链接移至"未分类"
- **WHEN** 管理员尝试删除"默认分类"**THEN** 系统显示错误提示"无法删除默认分类"
- **VERIFY** 删除操作在事务中执行（保证原子性）

**技术说明**:
- 默认分类 ID 固定为 0 或 1
- 使用外键约束或手动处理级联删除

---

### US-014: 分类排序
**优先级**: P1
**故事点**: 3

**故事描述**:
作为一名**管理员**，我希望能够**自定义分类显示顺序**，以便**控制前端展示的分类顺序**。

**验收标准** (EARS 格式):
- **WHEN** 管理员拖拽分类卡片 **THEN** 系统实时更新显示顺序
- **WHEN** 管理员释放拖拽 **THEN** 系统保存新的排序到数据库
- **VERIFY** 前端显示时按分类排序字段升序排列

---

### US-015: 为链接指定分类
**优先级**: P0
**故事点**: 2

**故事描述**:
作为一名**管理员**，我希望能够**为链接指定分类**，以便**按主题组织链接**。

**验收标准** (EARS 格式):
- **WHEN** 管理员添加或编辑链接时 **THEN** 系统显示分类下拉选择框
- **WHEN** 管理员选择分类并保存 **THEN** 系统将链接关联到该分类
- **WHEN** 管理员未选择分类 **THEN** 系统自动将链接分配到"默认分类"
- **VERIFY** 每个链接只能属于一个分类

---

## 史诗 4: 前端展示页面

### US-016: 响应式首页展示
**优先级**: P0
**故事点**: 8

**故事描述**:
作为一名**访客**，我希望看到**美观、响应式的导航页面**，以便**在任何设备上都能舒适浏览**。

**验收标准** (EARS 格式):
- **WHEN** 访客访问首页 **THEN** 系统显示导航页面（包含分类导航栏和链接卡片）
- **WHEN** 屏幕宽度 > 1024px **THEN** 系统显示桌面布局（多列网格）
- **WHEN** 屏幕宽度 < 768px **THEN** 系统显示移动布局（单列列表）
- **WHEN** 屏幕宽度在 768px - 1024px 之间 **THEN** 系统显示平板布局（两列网格）
- **VERIFY** 页面首次加载时间 < 2 秒（使用 Lighthouse 测试）
- **VERIFY** 页面在主流浏览器正常显示（Chrome, Firefox, Safari, Edge）

**技术说明**:
- 使用 Tailwind CSS 响应式类
- 使用 CSS Grid 或 Flexbox 布局

---

### US-017: 分类导航
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**访客**，我希望能够**按分类筛选链接**，以便**快速找到目标内容**。

**验收标准** (EARS 格式):
- **WHEN** 访客访问首页 **THEN** 系统显示所有分类标签（显示分类名称、图标、链接数量）
- **WHEN** 访客点击某个分类 **THEN** 系统仅显示该分类下的链接
- **WHEN** 访客点击"全部"分类 **THEN** 系统显示所有链接
- **WHEN** 某个分类无链接 **THEN** 系统显示"该分类暂无链接"
- **VERIFY** 分类切换无页面刷新（使用前端路由或状态管理）

**技术说明**:
- 使用 URL Hash 或 Query Parameter 记录当前分类（支持分享链接）
- 分类导航支持横向滚动（移动端）

---

### US-018: 链接卡片展示
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**访客**，我希望链接以**卡片形式展示**，以便**直观查看链接信息**。

**验收标准** (EARS 格式):
- **WHEN** 访客查看链接列表 **THEN** 每个链接以卡片形式展示（包含 logo、标题、描述）
- **WHEN** 链接有 logo **THEN** 系统在卡片左侧显示 logo
- **WHEN** 链接无 logo **THEN** 系统显示默认图标
- **WHEN** 访客鼠标悬停在卡片上 **THEN** 系统显示悬停效果（阴影、放大）
- **WHEN** 访客点击卡片 **THEN** 系统在新标签页打开链接（`target="_blank"`）
- **VERIFY** 卡片设计简洁美观（使用卡片阴影、圆角、间距）

**技术说明**:
- 使用懒加载优化图片加载（`loading="lazy"`）
- 图片加载失败时显示占位符

---

### US-019: 搜索功能
**优先级**: P1
**故事点**: 5

**故事描述**:
作为一名**访客**，我希望能够**搜索链接**，以便**快速找到目标网站**。

**验收标准** (EARS 格式):
- **WHEN** 访客在搜索框输入关键词 **THEN** 系统实时过滤链接（匹配标题或描述）
- **WHEN** 访客清空搜索框 **THEN** 系统显示所有链接
- **WHEN** 搜索无结果 **THEN** 系统显示"未找到相关链接"
- **WHEN** 访客输入关键词后按 Enter **THEN** 系统高亮匹配的链接
- **VERIFY** 搜索不区分大小写
- **VERIFY** 搜索支持模糊匹配（部分匹配即可）

**技术说明**:
- 使用前端搜索（无需后端 API）
- 可选：使用搜索库（如 `fuse.js`）实现模糊搜索

---

### US-020: 深色模式 (可选)
**优先级**: P2
**故事点**: 3

**故事描述**:
作为一名**访客**，我希望能够**切换深色模式**，以便**在夜间使用时保护眼睛**。

**验收标准** (EARS 格式):
- **WHEN** 访客点击深色模式切换按钮 **THEN** 系统切换到深色主题
- **WHEN** 访客刷新页面 **THEN** 系统保持上次选择的主题
- **WHEN** 访客首次访问且系统检测到深色模式偏好 **THEN** 自动启用深色模式
- **VERIFY** 深色模式下，背景色、文字颜色、卡片颜色适配

**技术说明**:
- 使用 `prefers-color-scheme` 检测系统偏好
- 主题选择存储在 LocalStorage

---

## 史诗 5: 后台管理界面

### US-021: 管理员登录页面
**优先级**: P0
**故事点**: 3

**故事描述**:
作为一名**管理员**，我希望看到**简洁的登录页面**，以便**快速登录后台**。

**验收标准** (EARS 格式):
- **WHEN** 访客访问 `/admin` 路径 **THEN** 系统显示登录页面
- **WHEN** 用户已登录且访问 `/admin` **THEN** 系统自动跳转到仪表盘
- **WHEN** 用户未登录且访问后台子页面 **THEN** 系统重定向到登录页面
- **VERIFY** 登录页面设计简洁美观

---

### US-022: 管理仪表盘
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望看到**统计信息仪表盘**，以便**快速了解网站数据**。

**验收标准** (EARS 格式):
- **WHEN** 管理员登录成功 **THEN** 系统显示仪表盘页面
- **WHEN** 仪表盘加载 **THEN** 系统显示以下统计信息：
  - 链接总数
  - 分类总数
  - 最近添加的 5 个链接
  - 最近编辑的 5 个链接
- **VERIFY** 仪表盘数据实时更新（每次访问重新加载）

---

### US-023: 链接管理页面
**优先级**: P0
**故事点**: 8

**故事描述**:
作为一名**管理员**，我希望在后台看到**链接管理页面**，以便**集中管理所有链接**。

**验收标准** (EARS 格式):
- **WHEN** 管理员访问链接管理页面 **THEN** 系统显示所有链接列表（表格或卡片视图）
- **WHEN** 管理员点击"添加链接"按钮 **THEN** 系统显示添加链接表单
- **WHEN** 管理员点击链接的"编辑"按钮 **THEN** 系统显示编辑表单
- **WHEN** 管理员点击链接的"删除"按钮 **THEN** 系统显示删除确认对话框
- **WHEN** 链接数量 > 20 **THEN** 系统显示分页控件
- **VERIFY** 链接列表支持按标题、分类、创建时间排序
- **VERIFY** 链接列表支持按标题搜索

**技术说明**:
- 使用表格组件（如 TanStack Table）
- 支持切换视图（表格 / 卡片）

---

### US-024: 分类管理页面
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望在后台看到**分类管理页面**，以便**管理所有分类**。

**验收标准** (EARS 格式):
- **WHEN** 管理员访问分类管理页面 **THEN** 系统显示所有分类列表
- **WHEN** 管理员点击"添加分类"按钮 **THEN** 系统显示添加分类表单
- **WHEN** 管理员拖拽分类 **THEN** 系统支持拖拽排序
- **VERIFY** 分类列表显示分类名称、图标、颜色、链接数量

---

### US-025: 用户设置页面
**优先级**: P1
**故事点**: 5

**故事描述**:
作为一名**管理员**，我希望能够**修改个人信息和密码**，以便**保护账号安全**。

**验收标准** (EARS 格式):
- **WHEN** 管理员访问设置页面 **THEN** 系统显示个人信息表单（邮箱、昵称）
- **WHEN** 管理员修改邮箱 **THEN** 系统验证邮箱格式并保存
- **WHEN** 管理员修改密码 **THEN** 系统要求输入旧密码、新密码、确认新密码
- **WHEN** 管理员输入的旧密码错误 **THEN** 系统显示错误提示
- **WHEN** 管理员成功修改密码 **THEN** 系统退出登录并跳转到登录页面
- **VERIFY** 密码修改后，旧的 Token 失效

---

## 史诗 6: 部署与运维

### US-026: 一键部署脚本
**优先级**: P0
**故事点**: 13

**故事描述**:
作为一名**部署者**，我希望能够**通过一键脚本部署网站**，以便**快速上线**。

**验收标准** (EARS 格式):
- **WHEN** 用户执行 `npm run deploy` **THEN** 系统自动检测 Cloudflare API Token
- **WHEN** Token 有效 **THEN** 系统自动执行以下步骤：
  1. 构建前端代码
  2. 创建 Cloudflare Pages 项目
  3. 上传前端代码到 Pages
  4. 创建 Cloudflare Workers
  5. 部署 Workers 代码
  6. 创建 D1 数据库
  7. 执行 SQL 初始化脚本
  8. 绑定 Workers 与 D1 数据库
- **WHEN** 部署成功 **THEN** 系统输出网站 URL
- **WHEN** 部署失败 **THEN** 系统输出错误信息和回滚建议
- **VERIFY** 部署过程显示进度条或日志
- **VERIFY** 部署时间 < 5 分钟

**技术说明**:
- 使用 Wrangler CLI（`wrangler pages deploy`, `wrangler d1 create`）
- 提供环境变量配置文件（`.env.example`）

**依赖项**:
- Wrangler CLI 已安装
- Cloudflare API Token 具有必要的权限

---

### US-027: 数据库初始化脚本
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**部署者**，我希望**自动初始化数据库表结构**，以便**无需手动执行 SQL**。

**验收标准** (EARS 格式):
- **WHEN** 部署脚本执行 **THEN** 系统自动执行 `schema.sql` 创建表结构
- **WHEN** 表已存在 **THEN** 系统跳过创建并显示提示
- **VERIFY** 创建以下表：
  - `users` (用户表)
  - `links` (链接表)
  - `categories` (分类表)

**技术说明**:
- 使用 `wrangler d1 execute` 执行 SQL 文件
- 提供 `schema.sql` 和 `seed.sql`（可选）

---

### US-028: 部署文档
**优先级**: P0
**故事点**: 5

**故事描述**:
作为一名**部署者**，我希望看到**详细的部署文档**，以便**顺利完成部署**。

**验收标准** (EARS 格式):
- **WHEN** 用户查看 README.md **THEN** 文档包含以下内容：
  - 前置要求（Node.js、Wrangler CLI）
  - 环境变量配置
  - 部署步骤
  - 常见问题 (FAQ)
  - 故障排查指南
- **VERIFY** 文档包含截图或 GIF 演示

---

## 📊 故事点估算说明

| 故事点 | 复杂度 | 预估时间 | 示例 |
|-------|--------|---------|------|
| 1-2   | 极简单 | < 2 小时 | 简单的 CRUD 表单 |
| 3     | 简单   | 2-4 小时 | 带验证的表单 |
| 5     | 中等   | 1 天     | 复杂的业务逻辑 |
| 8     | 复杂   | 2-3 天   | 涉及多个模块交互 |
| 13    | 极复杂 | 1 周     | 核心架构功能 |

---

## 🔗 依赖关系图

```
US-001 (用户注册) → US-002 (用户登录) → US-021 (登录页面) → US-022 (仪表盘)
US-011 (创建分类) → US-015 (为链接指定分类) → US-005 (添加链接)
US-010 (自动抓取) ← US-005 (添加链接)
US-026 (一键部署) → US-027 (数据库初始化)
```

---

## 📝 文档版本

| 版本 | 日期 | 作者 | 变更说明 |
|-----|------|------|---------|
| 1.0 | 2026-01-20 | Claude (需求分析专家) | 初始版本 |

---

**文档状态**: ✅ 已完成
**下一步行动**: 创建验收标准文档 (acceptance-criteria.md)
